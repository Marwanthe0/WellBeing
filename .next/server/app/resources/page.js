(()=>{var e={};e.id=126,e.ids=[126],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},35816:e=>{"use strict";e.exports=require("process")},86624:e=>{"use strict";e.exports=require("querystring")},76162:e=>{"use strict";e.exports=require("stream")},74026:e=>{"use strict";e.exports=require("string_decoder")},95346:e=>{"use strict";e.exports=require("timers")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},15673:e=>{"use strict";e.exports=require("node:events")},3950:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>p,pages:()=>d,routeModule:()=>x,tree:()=>c}),t(41642),t(87393),t(35866);var r=t(23191),i=t(88716),a=t(37922),l=t.n(a),o=t(95231),n={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);t.d(s,n);let c=["",{children:["resources",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,41642)),"D:\\sahedul\\WellBeing\\app\\resources\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,87393)),"D:\\sahedul\\WellBeing\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],d=["D:\\sahedul\\WellBeing\\app\\resources\\page.tsx"],p="/resources/page",m={require:t,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/resources/page",pathname:"/resources",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},86004:(e,s,t)=>{Promise.resolve().then(t.bind(t,96342))},96342:(e,s,t)=>{"use strict";t.d(s,{ResourcesPage:()=>h});var r=t(10326),i=t(17577),a=t(35047),l=t(65160),o=t(76557);let n=(0,o.Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),c=(0,o.Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),d=(0,o.Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),p=(0,o.Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),m=(0,o.Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),x=(0,o.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);var u=t(37358);function h({therapists:e,appointments:s}){let[t,o]=(0,i.useState)(null),[h,g]=(0,i.useState)(""),[b,f]=(0,i.useState)(""),[y,j]=(0,i.useState)(!1),[v,N]=(0,i.useState)(""),[w,k]=(0,i.useState)(!1),q=(0,a.useRouter)(),P=async e=>{if(e.preventDefault(),t&&h&&b){k(!0),N("");try{let e=await fetch("/api/appointments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({therapistId:t,date:h,time:b})}),s=await e.json();e.ok?(j(!0),o(null),g(""),f(""),q.refresh(),setTimeout(()=>j(!1),5e3)):N(s.error||"Failed to book appointment")}catch(e){console.error("Error booking appointment:",e),N("Network error. Please try again.")}finally{k(!1)}}},M=e=>s.filter(s=>s.therapistId===e).length,S=e=>{let s=["https://images.pexels.com/photos/5327921/pexels-photo-5327921.jpeg?auto=compress&cs=tinysrgb&w=300&h=300&fit=crop","https://images.pexels.com/photos/5327580/pexels-photo-5327580.jpeg?auto=compress&cs=tinysrgb&w=300&h=300&fit=crop","https://images.pexels.com/photos/5327654/pexels-photo-5327654.jpeg?auto=compress&cs=tinysrgb&w=300&h=300&fit=crop","https://images.pexels.com/photos/5327656/pexels-photo-5327656.jpeg?auto=compress&cs=tinysrgb&w=300&h=300&fit=crop"];return s[e%s.length]};return(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Mental Health Resources"}),r.jsx("p",{className:"text-lg text-gray-600",children:"Connect with professional therapists and access crisis support resources"})]}),y&&r.jsx("div",{className:"mb-8 bg-green-50 border border-green-200 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(n,{className:"h-5 w-5 text-green-600 mr-2"}),r.jsx("p",{className:"text-green-800",children:"Appointment booked successfully! The therapist will contact you to confirm the details."})]})}),v&&r.jsx("div",{className:"mb-8 bg-red-50 border border-red-200 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(c,{className:"h-5 w-5 text-red-600 mr-2"}),r.jsx("p",{className:"text-red-800",children:v})]})}),(0,r.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 mb-8",children:[(0,r.jsxs)("div",{className:"flex items-start space-x-3 mb-4",children:[r.jsx(c,{className:"h-6 w-6 text-red-600 mt-1"}),(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-red-900",children:"Crisis Support Resources"}),r.jsx("p",{className:"text-red-700",children:"If you're in crisis or need immediate help, please reach out:"})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{name:"National Suicide Prevention Lifeline",phone:"988",description:"24/7 crisis support and suicide prevention"},{name:"Crisis Text Line",phone:"Text HOME to 741741",description:"Free, 24/7 support via text message"},{name:"SAMHSA National Helpline",phone:"1-800-662-4357",description:"Treatment referral and information service"},{name:"National Domestic Violence Hotline",phone:"1-800-799-7233",description:"24/7 support for domestic violence survivors"}].map((e,s)=>(0,r.jsxs)("div",{className:"bg-white border border-red-200 rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:e.name}),r.jsx("p",{className:"text-red-600 font-mono text-lg mb-2",children:e.phone}),r.jsx("p",{className:"text-gray-600 text-sm",children:e.description})]},s))})]}),(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Professional Therapists"}),r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:e.map((e,s)=>(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,r.jsxs)("div",{className:"flex items-start space-x-4 mb-4",children:[r.jsx("img",{src:S(s),alt:e.name,className:"w-16 h-16 rounded-full object-cover"}),(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:e.name}),r.jsx("p",{className:"text-blue-600 font-medium",children:e.specialization}),(0,r.jsxs)("div",{className:"flex items-center text-gray-500 text-sm mt-1",children:[r.jsx(d,{className:"h-4 w-4 mr-1"}),"Professional Office"]})]})]}),(0,r.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(p,{className:"h-4 w-4 mr-2"}),e.email]}),(0,r.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(m,{className:"h-4 w-4 mr-2"}),"(555) 123-4567"]}),(0,r.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(x,{className:"h-4 w-4 mr-2"}),"Available: ",e.availableDays?.split(",").join(", ")||"Contact for availability"]})]}),r.jsx("button",{onClick:()=>o(e.therapistId),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:"Book Appointment"}),M(e.therapistId)>0&&(0,r.jsxs)("p",{className:"text-sm text-green-600 mt-2 text-center",children:["You have ",M(e.therapistId)," appointment(s) with this therapist"]})]},e.therapistId))})]}),t&&r.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Book Appointment"}),r.jsx("div",{className:"mb-4",children:(0,r.jsxs)("p",{className:"text-gray-600",children:["Booking with: ",r.jsx("span",{className:"font-medium",children:e.find(e=>e.therapistId===t)?.name})]})}),(0,r.jsxs)("form",{onSubmit:P,children:[(0,r.jsxs)("div",{className:"mb-4",children:[r.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Date"}),r.jsx("input",{type:"date",id:"date",value:h,onChange:e=>g(e.target.value),min:new Date().toISOString().split("T")[0],className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("label",{htmlFor:"time",className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Time"}),(0,r.jsxs)("select",{id:"time",value:b,onChange:e=>f(e.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0,children:[r.jsx("option",{value:"",children:"Select a time"}),r.jsx("option",{value:"09:00",children:"9:00 AM"}),r.jsx("option",{value:"10:00",children:"10:00 AM"}),r.jsx("option",{value:"11:00",children:"11:00 AM"}),r.jsx("option",{value:"13:00",children:"1:00 PM"}),r.jsx("option",{value:"14:00",children:"2:00 PM"}),r.jsx("option",{value:"15:00",children:"3:00 PM"}),r.jsx("option",{value:"16:00",children:"4:00 PM"})]})]}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[r.jsx("button",{type:"submit",disabled:w,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:w?"Booking...":"Book Appointment"}),r.jsx("button",{type:"button",disabled:w,onClick:()=>{o(null),g(""),f(""),N("")},className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors disabled:opacity-50",children:"Cancel"})]})]})]})}),s.length>0&&(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"My Appointments"}),r.jsx("div",{className:"space-y-4",children:s.map(s=>{let t=e.find(e=>e.therapistId===s.therapistId);return r.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:t?.name}),r.jsx("p",{className:"text-gray-600",children:t?.specialization}),(0,r.jsxs)("div",{className:"flex items-center text-sm text-gray-500 mt-1",children:[r.jsx(u.Z,{className:"h-4 w-4 mr-1"}),(0,l.Z)(new Date(s.appointmentDate),"MMM dd, yyyy â€¢ h:mm a")]})]}),r.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:s.status})]})},s.appointmentId)})})]})]})}},37358:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(76557).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},41642:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>p});var r=t(19510),i=t(75571),a=t(58585),l=t(90455),o=t(97395),n=t(10306),c=t(57745);let d=(0,t(68570).createProxy)(String.raw`D:\sahedul\WellBeing\components\ResourcesPage.tsx#ResourcesPage`);async function p(){let e=await (0,i.getServerSession)(l.L);e||(0,a.redirect)("/login");let s=await o.db.select().from(n.therapists),t=await o.db.select().from(n.appointments).where((0,c.eq)(n.appointments.userId,parseInt(e.user.id)));return r.jsx(d,{therapists:s,appointments:t})}}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[276,795,23,790,325,344,381],()=>t(3950));module.exports=r})();