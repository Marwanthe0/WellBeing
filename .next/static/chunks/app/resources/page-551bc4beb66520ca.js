(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[126],{2074:function(e,s,t){Promise.resolve().then(t.bind(t,6103))},6103:function(e,s,t){"use strict";t.d(s,{ResourcesPage:function(){return u}});var r=t(7437),i=t(2265),a=t(9376),l=t(1069),n=t(9763);let o=(0,n.Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),c=(0,n.Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),d=(0,n.Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),m=(0,n.Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),x=(0,n.Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),h=(0,n.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);var p=t(1047);function u(e){var s;let{therapists:t,appointments:n}=e,[u,g]=(0,i.useState)(null),[f,b]=(0,i.useState)(""),[y,j]=(0,i.useState)(""),[v,N]=(0,i.useState)(!1),[w,k]=(0,i.useState)(""),[M,C]=(0,i.useState)(!1),P=(0,a.useRouter)(),A=async e=>{if(e.preventDefault(),u&&f&&y){C(!0),k("");try{let e=await fetch("/api/appointments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({therapistId:u,date:f,time:y})}),s=await e.json();e.ok?(N(!0),g(null),b(""),j(""),P.refresh(),setTimeout(()=>N(!1),5e3)):k(s.error||"Failed to book appointment")}catch(e){console.error("Error booking appointment:",e),k("Network error. Please try again.")}finally{C(!1)}}},S=e=>n.filter(s=>s.therapistId===e).length,Z=e=>{let s=["https://images.pexels.com/photos/5327921/pexels-photo-5327921.jpeg?auto=compress&cs=tinysrgb&w=300&h=300&fit=crop","https://images.pexels.com/photos/5327580/pexels-photo-5327580.jpeg?auto=compress&cs=tinysrgb&w=300&h=300&fit=crop","https://images.pexels.com/photos/5327654/pexels-photo-5327654.jpeg?auto=compress&cs=tinysrgb&w=300&h=300&fit=crop","https://images.pexels.com/photos/5327656/pexels-photo-5327656.jpeg?auto=compress&cs=tinysrgb&w=300&h=300&fit=crop"];return s[e%s.length]};return(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Mental Health Resources"}),(0,r.jsx)("p",{className:"text-lg text-gray-600",children:"Connect with professional therapists and access crisis support resources"})]}),v&&(0,r.jsx)("div",{className:"mb-8 bg-green-50 border border-green-200 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(o,{className:"h-5 w-5 text-green-600 mr-2"}),(0,r.jsx)("p",{className:"text-green-800",children:"Appointment booked successfully! The therapist will contact you to confirm the details."})]})}),w&&(0,r.jsx)("div",{className:"mb-8 bg-red-50 border border-red-200 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(c,{className:"h-5 w-5 text-red-600 mr-2"}),(0,r.jsx)("p",{className:"text-red-800",children:w})]})}),(0,r.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 mb-8",children:[(0,r.jsxs)("div",{className:"flex items-start space-x-3 mb-4",children:[(0,r.jsx)(c,{className:"h-6 w-6 text-red-600 mt-1"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-red-900",children:"Crisis Support Resources"}),(0,r.jsx)("p",{className:"text-red-700",children:"If you're in crisis or need immediate help, please reach out:"})]})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{name:"National Suicide Prevention Lifeline",phone:"988",description:"24/7 crisis support and suicide prevention"},{name:"Crisis Text Line",phone:"Text HOME to 741741",description:"Free, 24/7 support via text message"},{name:"SAMHSA National Helpline",phone:"1-800-662-4357",description:"Treatment referral and information service"},{name:"National Domestic Violence Hotline",phone:"1-800-799-7233",description:"24/7 support for domestic violence survivors"}].map((e,s)=>(0,r.jsxs)("div",{className:"bg-white border border-red-200 rounded-lg p-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900 mb-1",children:e.name}),(0,r.jsx)("p",{className:"text-red-600 font-mono text-lg mb-2",children:e.phone}),(0,r.jsx)("p",{className:"text-gray-600 text-sm",children:e.description})]},s))})]}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Professional Therapists"}),(0,r.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:t.map((e,s)=>{var t;return(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,r.jsxs)("div",{className:"flex items-start space-x-4 mb-4",children:[(0,r.jsx)("img",{src:Z(s),alt:e.name,className:"w-16 h-16 rounded-full object-cover"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:e.name}),(0,r.jsx)("p",{className:"text-blue-600 font-medium",children:e.specialization}),(0,r.jsxs)("div",{className:"flex items-center text-gray-500 text-sm mt-1",children:[(0,r.jsx)(d,{className:"h-4 w-4 mr-1"}),"Professional Office"]})]})]}),(0,r.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,r.jsx)(m,{className:"h-4 w-4 mr-2"}),e.email]}),(0,r.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,r.jsx)(x,{className:"h-4 w-4 mr-2"}),"(555) 123-4567"]}),(0,r.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,r.jsx)(h,{className:"h-4 w-4 mr-2"}),"Available: ",(null===(t=e.availableDays)||void 0===t?void 0:t.split(",").join(", "))||"Contact for availability"]})]}),(0,r.jsx)("button",{onClick:()=>g(e.therapistId),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:"Book Appointment"}),S(e.therapistId)>0&&(0,r.jsxs)("p",{className:"text-sm text-green-600 mt-2 text-center",children:["You have ",S(e.therapistId)," appointment(s) with this therapist"]})]},e.therapistId)})})]}),u&&(0,r.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Book Appointment"}),(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsxs)("p",{className:"text-gray-600",children:["Booking with: ",(0,r.jsx)("span",{className:"font-medium",children:null===(s=t.find(e=>e.therapistId===u))||void 0===s?void 0:s.name})]})}),(0,r.jsxs)("form",{onSubmit:A,children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Date"}),(0,r.jsx)("input",{type:"date",id:"date",value:f,onChange:e=>b(e.target.value),min:new Date().toISOString().split("T")[0],className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{htmlFor:"time",className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Time"}),(0,r.jsxs)("select",{id:"time",value:y,onChange:e=>j(e.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0,children:[(0,r.jsx)("option",{value:"",children:"Select a time"}),(0,r.jsx)("option",{value:"09:00",children:"9:00 AM"}),(0,r.jsx)("option",{value:"10:00",children:"10:00 AM"}),(0,r.jsx)("option",{value:"11:00",children:"11:00 AM"}),(0,r.jsx)("option",{value:"13:00",children:"1:00 PM"}),(0,r.jsx)("option",{value:"14:00",children:"2:00 PM"}),(0,r.jsx)("option",{value:"15:00",children:"3:00 PM"}),(0,r.jsx)("option",{value:"16:00",children:"4:00 PM"})]})]}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsx)("button",{type:"submit",disabled:M,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:M?"Booking...":"Book Appointment"}),(0,r.jsx)("button",{type:"button",disabled:M,onClick:()=>{g(null),b(""),j(""),k("")},className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors disabled:opacity-50",children:"Cancel"})]})]})]})}),n.length>0&&(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"My Appointments"}),(0,r.jsx)("div",{className:"space-y-4",children:n.map(e=>{let s=t.find(s=>s.therapistId===e.therapistId);return(0,r.jsx)("div",{className:"border border-gray-200 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900",children:null==s?void 0:s.name}),(0,r.jsx)("p",{className:"text-gray-600",children:null==s?void 0:s.specialization}),(0,r.jsxs)("div",{className:"flex items-center text-sm text-gray-500 mt-1",children:[(0,r.jsx)(p.Z,{className:"h-4 w-4 mr-1"}),(0,l.Z)(new Date(e.appointmentDate),"MMM dd, yyyy • h:mm a")]})]}),(0,r.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:e.status})]})},e.appointmentId)})})]})]})}},9763:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});var r=t(2265),i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),l=(e,s)=>{let t=(0,r.forwardRef)((t,l)=>{let{color:n="currentColor",size:o=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:m="",children:x,...h}=t;return(0,r.createElement)("svg",{ref:l,...i,width:o,height:o,stroke:n,strokeWidth:d?24*Number(c)/Number(o):c,className:["lucide","lucide-".concat(a(e)),m].join(" "),...h},[...s.map(e=>{let[s,t]=e;return(0,r.createElement)(s,t)}),...Array.isArray(x)?x:[x]])});return t.displayName="".concat(e),t}},1047:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9763).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},9376:function(e,s,t){"use strict";var r=t(5475);t.o(r,"usePathname")&&t.d(s,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}})}},function(e){e.O(0,[69,971,117,744],function(){return e(e.s=2074)}),_N_E=e.O()}]);