(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{1362:function(e,s,t){Promise.resolve().then(t.bind(t,7643))},7643:function(e,s,t){"use strict";t.d(s,{DashboardPage:function(){return h}});var r=t(7437);t(2265);var l=t(6705),a=t(4084),d=t(6639),n=t(6208),i=t(1069),o=t(3327),c=t(525),x=t(1047),m=t(8896);function h(e){let{moodEntries:s}=e,t=Array.from({length:7},(e,t)=>{let r=(0,d.Z)((0,n.Z)(new Date,6-t)),l=s.find(e=>(0,d.Z)(new Date(e.entryDate)).getTime()===r.getTime());return{date:(0,i.Z)(r,"MMM dd"),score:l?l.moodScore:null,mood:l?l.mood:null}}),a={labels:t.map(e=>e.date),datasets:[{label:"Mood Score",data:t.map(e=>e.score),borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4,pointBackgroundColor:"rgb(59, 130, 246)",pointBorderColor:"white",pointBorderWidth:2,pointRadius:6}]},h=s.reduce((e,s)=>{let t=s.mood.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase());return e[t]=(e[t]||0)+1,e},{}),u={labels:Object.keys(h),datasets:[{data:Object.values(h),backgroundColor:["#10B981","#8B5CF6","#F59E0B","#EF4444","#3B82F6"],borderWidth:2,borderColor:"white"}]},g=s.length>0?(s.reduce((e,s)=>e+s.moodScore,0)/s.length).toFixed(1):"0",b=function(){let e=new Date,t=0;for(let r=0;r<30;r++){let l=new Date(e);if(l.setDate(e.getDate()-r),s.some(e=>new Date(e.entryDate).toDateString()===l.toDateString()))t++;else if(r>0)break}return t}(),p=t.filter(e=>null!==e.score).length>0?(t.reduce((e,s)=>e+(s.score||0),0)/t.filter(e=>null!==e.score).length).toFixed(1):"0";return(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Your Wellness Dashboard"}),(0,r.jsx)("p",{className:"text-lg text-gray-600",children:"Track your progress and celebrate your journey to better mental health"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,r.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Current Streak"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:b}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"days"})]}),(0,r.jsx)("div",{className:"p-3 bg-blue-100 rounded-full",children:(0,r.jsx)(o.Z,{className:"h-6 w-6 text-blue-600"})})]})}),(0,r.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Weekly Average"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-green-600",children:p}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"out of 5"})]}),(0,r.jsx)("div",{className:"p-3 bg-green-100 rounded-full",children:(0,r.jsx)(c.Z,{className:"h-6 w-6 text-green-600"})})]})}),(0,r.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Entries"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-purple-600",children:s.length}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"recorded"})]}),(0,r.jsx)("div",{className:"p-3 bg-purple-100 rounded-full",children:(0,r.jsx)(x.Z,{className:"h-6 w-6 text-purple-600"})})]})}),(0,r.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Overall Average"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-orange-600",children:g}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"out of 5"})]}),(0,r.jsx)("div",{className:"p-3 bg-orange-100 rounded-full",children:(0,r.jsx)(m.Z,{className:"h-6 w-6 text-orange-600"})})]})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,r.jsxs)("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"7-Day Mood Trend"}),s.length>0?(0,r.jsx)("div",{className:"h-64",children:(0,r.jsx)(l.x1,{data:a,options:{responsive:!0,plugins:{legend:{display:!1},title:{display:!1}},scales:{y:{beginAtZero:!0,max:5,ticks:{stepSize:1,callback:function(e){return["","Very Sad","Sad","Neutral","Happy","Very Happy"]["string"==typeof e?parseInt(e):e]||""}}}}}})}):(0,r.jsx)("div",{className:"h-64 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-gray-400 text-4xl mb-4",children:"\uD83D\uDCCA"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Start logging your moods to see trends here"})]})})]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Mood Distribution"}),s.length>0?(0,r.jsx)("div",{className:"h-64",children:(0,r.jsx)(l.$I,{data:u,options:{responsive:!0,plugins:{legend:{position:"bottom",labels:{padding:20,usePointStyle:!0}}}}})}):(0,r.jsx)("div",{className:"h-64 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-gray-400 text-4xl mb-4",children:"\uD83D\uDCC8"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Your mood distribution will appear here"})]})})]})]}),0===s.length&&(0,r.jsx)("div",{className:"mt-8 text-center",children:(0,r.jsxs)("div",{className:"bg-blue-50 rounded-xl p-8",children:[(0,r.jsx)("div",{className:"text-blue-400 text-5xl mb-4",children:"\uD83C\uDFAF"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-blue-900 mb-2",children:"Start Your Wellness Journey"}),(0,r.jsx)("p",{className:"text-blue-700 mb-4",children:"Begin tracking your moods to unlock powerful insights about your mental health patterns"}),(0,r.jsx)("a",{href:"/mood",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors",children:"Track Your First Mood"})]})})]})}a.kL.register(a.uw,a.f$,a.od,a.jn,a.Dx,a.u,a.De,a.qi)}},function(e){e.O(0,[674,69,106,971,117,744],function(){return e(e.s=1362)}),_N_E=e.O()}]);