(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[961],{2598:function(e,t,r){Promise.resolve().then(r.bind(r,9820))},9820:function(e,t,r){"use strict";r.d(t,{JournalPage:function(){return h}});var s=r(7437),a=r(2265),n=r(9376),l=r(1069),o=r(9763);let i=(0,o.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),c=(0,o.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var d=r(1769),u=r(1047);function h(e){let{journalEntries:t}=e,[r,o]=(0,a.useState)(!1),[h,m]=(0,a.useState)(""),[x,b]=(0,a.useState)(""),[y,g]=(0,a.useState)(""),[p,f]=(0,a.useState)(null),j=(0,n.useRouter)(),v=async e=>{if(e.preventDefault(),h.trim()&&x.trim())try{(await fetch("/api/journal",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:h.trim(),content:x.trim()})})).ok&&(m(""),b(""),o(!1),j.refresh())}catch(e){console.error("Error saving journal entry:",e)}},w=t.filter(e=>e.entryText.toLowerCase().includes(y.toLowerCase())),N=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,r=e.split(" ");return r.length<=t?e:r.slice(0,t).join(" ")+"..."},k=e=>{let t=e.split("\n");return{title:t[0]||"Untitled Entry",content:t.slice(2).join("\n")||e}};return(0,s.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Your Personal Journal"}),(0,s.jsx)("p",{className:"text-lg text-gray-600",children:"A safe space to reflect, process, and document your thoughts and feelings"})]}),r?(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-8",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"New Journal Entry"}),(0,s.jsxs)("form",{onSubmit:v,children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:"Entry Title"}),(0,s.jsx)("input",{type:"text",id:"title",value:h,onChange:e=>m(e.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Give your entry a title...",required:!0})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Thoughts"}),(0,s.jsx)("textarea",{id:"content",rows:10,value:x,onChange:e=>b(e.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Write about your day, your feelings, your thoughts... This is your safe space.",required:!0})]}),(0,s.jsxs)("div",{className:"flex space-x-4",children:[(0,s.jsx)("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:"Save Entry"}),(0,s.jsx)("button",{type:"button",onClick:()=>{o(!1),m(""),b("")},className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors",children:"Cancel"})]})]})]}):(0,s.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-8",children:(0,s.jsxs)("button",{onClick:()=>o(!0),className:"w-full flex items-center justify-center space-x-2 py-4 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:border-blue-400 hover:text-blue-600 transition-colors",children:[(0,s.jsx)(i,{className:"h-5 w-5"}),(0,s.jsx)("span",{className:"font-medium",children:"Write a new journal entry"})]})}),t.length>0&&(0,s.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-8",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(c,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,s.jsx)("input",{type:"text",value:y,onChange:e=>g(e.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Search your journal entries..."})]})}),(0,s.jsx)("div",{className:"space-y-6",children:0===w.length&&0===t.length?(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-8 text-center",children:[(0,s.jsx)("div",{className:"text-gray-400 text-5xl mb-4",children:(0,s.jsx)(d.Z,{className:"h-16 w-16 mx-auto"})}),(0,s.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Start Your Journal"}),(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:"Writing can be a powerful tool for mental wellness. Start by sharing what's on your mind today."}),(0,s.jsxs)("button",{onClick:()=>o(!0),className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors",children:[(0,s.jsx)(i,{className:"h-5 w-5 mr-2"}),"Write Your First Entry"]})]}):0===w.length?(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-8 text-center",children:[(0,s.jsx)("div",{className:"text-gray-400 text-4xl mb-4",children:"\uD83D\uDD0D"}),(0,s.jsx)("p",{className:"text-gray-600",children:"No entries match your search term."})]}):w.map(e=>{let{title:t,content:r}=k(e.entryText);return(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:t}),(0,s.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,s.jsx)(u.Z,{className:"h-4 w-4 mr-1"}),(0,l.Z)(new Date(e.entryDate),"MMM dd, yyyy â€¢ h:mm a")]})]}),(0,s.jsx)("div",{className:"text-gray-700 leading-relaxed",children:p===e.journalId?(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"whitespace-pre-wrap",children:r}),(0,s.jsx)("button",{onClick:()=>f(null),className:"mt-4 text-blue-600 hover:text-blue-700 font-medium",children:"Show less"})]}):(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"whitespace-pre-wrap",children:N(r)}),r.split(" ").length>30&&(0,s.jsx)("button",{onClick:()=>f(e.journalId),className:"mt-2 text-blue-600 hover:text-blue-700 font-medium",children:"Read more"})]})})]},e.journalId)})})]})}},9763:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var s=r(2265),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),l=(e,t)=>{let r=(0,s.forwardRef)((r,l)=>{let{color:o="currentColor",size:i=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:u="",children:h,...m}=r;return(0,s.createElement)("svg",{ref:l,...a,width:i,height:i,stroke:o,strokeWidth:d?24*Number(c)/Number(i):c,className:["lucide","lucide-".concat(n(e)),u].join(" "),...m},[...t.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(h)?h:[h]])});return r.displayName="".concat(e),r}},1769:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]])},1047:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},9376:function(e,t,r){"use strict";var s=r(5475);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})}},function(e){e.O(0,[69,971,117,744],function(){return e(e.s=2598)}),_N_E=e.O()}]);