(()=>{var e={};e.id=538,e.ids=[538],e.modules={62849:e=>{function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=62849,e.exports=t},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},98216:e=>{"use strict";e.exports=require("net")},35816:e=>{"use strict";e.exports=require("process")},76162:e=>{"use strict";e.exports=require("stream")},74026:e=>{"use strict";e.exports=require("string_decoder")},95346:e=>{"use strict";e.exports=require("timers")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},15673:e=>{"use strict";e.exports=require("node:events")},570:(e,t,r)=>{"use strict";r.r(t),r.d(t,{originalPathname:()=>x,patchFetch:()=>v,requestAsyncStorage:()=>h,routeModule:()=>y,serverHooks:()=>f,staticGenerationAsyncStorage:()=>g});var s={};r.r(s),r.d(s,{POST:()=>m});var a=r(49303),i=r(88716),o=r(60670),n=r(87070),l=r(42023),u=r.n(l),d=r(97395),p=r(10306),c=r(57745);async function m(e){try{let{name:t,email:r,password:s}=await e.json();if(!t||!r||!s)return n.NextResponse.json({error:"Missing required fields"},{status:400});if((await d.db.select().from(p.users).where((0,c.eq)(p.users.email,r)).limit(1)).length>0)return n.NextResponse.json({error:"User already exists"},{status:400});let a=await u().hash(s,12);return await d.db.insert(p.users).values({name:t,email:r,passwordHash:a}),n.NextResponse.json({message:"User created successfully"},{status:201})}catch(e){return console.error("Signup error:",e),n.NextResponse.json({error:"Internal server error"},{status:500})}}let y=new a.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/signup/route",pathname:"/api/signup",filename:"route",bundlePath:"app/api/signup/route"},resolvedPagePath:"D:\\sahedul\\WellBeing\\app\\api\\signup\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:h,staticGenerationAsyncStorage:g,serverHooks:f}=y,x="/api/signup/route";function v(){return(0,o.patchFetch)({serverHooks:f,staticGenerationAsyncStorage:g})}},97395:(e,t,r)=>{"use strict";r.d(t,{db:()=>n,x:()=>l});var s=r(7523),a=r(73785),i=r(10306);let o=a.createPool({host:process.env.DB_HOST||"localhost",port:parseInt(process.env.DB_PORT||"3306"),user:process.env.DB_USER||"root",password:process.env.DB_PASSWORD||"",database:process.env.DB_NAME||"wellbeing",connectionLimit:10}),n=(0,s.tS)(o,{schema:i,mode:"default"});async function l(){try{for(let e of[{name:"Dr. Sarah Johnson",specialization:"Anxiety & Depression",email:"sarah.johnson@wellbeing.com",availableDays:"Monday,Wednesday,Friday"},{name:"Dr. Michael Chen",specialization:"Trauma & PTSD",email:"michael.chen@wellbeing.com",availableDays:"Tuesday,Thursday,Saturday"},{name:"Dr. Emily Rodriguez",specialization:"Relationship & Family Therapy",email:"emily.rodriguez@wellbeing.com",availableDays:"Monday,Tuesday,Thursday,Friday"},{name:"Dr. James Wilson",specialization:"Addiction & Recovery",email:"james.wilson@wellbeing.com",availableDays:"Monday,Wednesday,Thursday,Saturday"}])try{await n.insert(i.therapists).values(e)}catch{console.log("Therapist already exists:",e.name)}for(let e of[{mood:"Very Happy",tip:"Share your happiness with others - it's contagious!"},{mood:"Very Happy",tip:"Take a moment to reflect on what brought you joy today"},{mood:"Happy",tip:"Keep up the positive momentum with some light exercise"},{mood:"Happy",tip:"Connect with a friend or family member"},{mood:"Neutral",tip:"Try some gentle movement like stretching or walking"},{mood:"Neutral",tip:"Practice mindfulness or meditation for 5-10 minutes"},{mood:"Sad",tip:"Be gentle with yourself - it's okay to feel sad sometimes"},{mood:"Sad",tip:"Try some deep breathing exercises"},{mood:"Very Sad",tip:"Remember that you're not alone in feeling this way"},{mood:"Very Sad",tip:"Consider speaking with a mental health professional"}])try{await n.insert(i.suggestions).values(e)}catch{console.log("Suggestion already exists for mood:",e.mood)}console.log("Database initialized successfully")}catch(e){console.error("Error initializing database:",e)}}},10306:(e,t,r)=>{"use strict";r.r(t),r.d(t,{appointments:()=>m,journals:()=>p,moodEntries:()=>h,suggestions:()=>y,therapists:()=>c,users:()=>d});var s=r(54640),a=r(51906),i=r(11585),o=r(20412),n=r(33068),l=r(19711),u=r(90292);let d=(0,a.iq)("users",{userId:(0,i.e$)("user_id").primaryKey().autoincrement(),name:(0,o.L7)("name",{length:100}).notNull(),email:(0,o.L7)("email",{length:100}).notNull().unique(),passwordHash:(0,o.L7)("password_hash",{length:255}).notNull(),age:(0,i.e$)("age"),gender:(0,n.MI)("gender",["Male","Female","Other"]).default("Other"),createdAt:(0,l.AB)("created_at").default((0,s.i6)`CURRENT_TIMESTAMP`).notNull()}),p=(0,a.iq)("journals",{journalId:(0,i.e$)("journal_id").primaryKey().autoincrement(),userId:(0,i.e$)("user_id").notNull().references(()=>d.userId,{onDelete:"cascade"}),entryText:(0,u.fL)("entry_text").notNull(),entryDate:(0,l.AB)("entry_date").default((0,s.i6)`CURRENT_TIMESTAMP`).notNull()}),c=(0,a.iq)("therapists",{therapistId:(0,i.e$)("therapist_id").primaryKey().autoincrement(),name:(0,o.L7)("name",{length:100}).notNull(),specialization:(0,o.L7)("specialization",{length:100}).notNull(),email:(0,o.L7)("email",{length:100}).notNull(),availableDays:(0,o.L7)("available_days",{length:100})}),m=(0,a.iq)("appointments",{appointmentId:(0,i.e$)("appointment_id").primaryKey().autoincrement(),userId:(0,i.e$)("user_id").notNull().references(()=>d.userId,{onDelete:"cascade"}),therapistId:(0,i.e$)("therapist_id").notNull().references(()=>c.therapistId,{onDelete:"cascade"}),appointmentDate:(0,l.AB)("appointment_date").notNull(),status:(0,n.MI)("status",["Pending","Confirmed","Cancelled"]).default("Pending")}),y=(0,a.iq)("suggestions",{suggestionId:(0,i.e$)("suggestion_id").primaryKey().autoincrement(),mood:(0,n.MI)("mood",["Very Happy","Happy","Neutral","Sad","Very Sad"]).notNull(),tip:(0,u.fL)("tip").notNull()}),h=(0,a.iq)("mood_entries",{entryId:(0,i.e$)("entry_id").primaryKey().autoincrement(),userId:(0,i.e$)("user_id").notNull().references(()=>d.userId,{onDelete:"cascade"}),mood:(0,n.MI)("mood",["Very Happy","Happy","Neutral","Sad","Very Sad"]).notNull(),moodScore:(0,i.e$)("mood_score").notNull(),notes:(0,u.fL)("notes"),entryDate:(0,l.AB)("entry_date").default((0,s.i6)`CURRENT_TIMESTAMP`).notNull()})}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[276,795,23,972],()=>r(570));module.exports=s})();